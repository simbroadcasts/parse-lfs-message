import{Iconv as e}from"iconv";const t={"^L":"CP1252","^G":"CP1253","^C":"CP1251","^E":"CP1250","^T":"CP1254","^B":"CP1257","^J":"CP932","^H":"CP950","^S":"CP936","^K":"CP949","^8":"CP1252"},r={"^v":"|","^a":"*","^c":":","^d":"\\","^s":"/","^q":"?","^t":'"',"^l":"<","^r":">","^h":"#","^^":"^"},n=(e,t)=>{switch(e){case"^L":case"^8":case"^G":case"^C":case"^E":case"^T":case"^B":return!1;case"^J":return t>128&&t<160||t>=224&&t<253;case"^H":case"^S":case"^K":return t>128&&t<255;default:throw new Error(`Unknown Codepage: ${t}`)}};function s(s){let c=Buffer.from(s),o="^L",a="",l=0,i=0,C=new e(t[o],"UTF-8");for(let r=0;r<=c.length;r++)if(r===c.length||0===c[r])l<i&&(a+=C.convert(c.slice(l,i)).toString()),r=c.length;else if(n(o,c[r]))i+=2,r++;else if(94===c[r]){let n=`^${C.convert(c.slice(r+1,r+2))}`;t.hasOwnProperty(n)?(o=n,C=new e(t[o],"UTF-8"),l<i&&(a+=C.convert(c.slice(l,i)).toString()),l=56===c[r+1]?r:r+2,i=r+2,r++):(i+=2,r++)}else i++;for(let e in r)a=a.split(e).join(r[e]);return a}export{s as default};
//# sourceMappingURL=index.mjs.map
