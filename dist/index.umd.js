!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e||self).parseLfsMessage=n()}(this,function(){var e={"^L":"CP1252","^G":"CP1253","^C":"CP1251","^E":"CP1250","^T":"CP1254","^B":"CP1257","^J":"shift-jis","^H":"big5","^S":"gbk","^K":"euc-kr","^8":"CP1252"},n={"^v":"|","^a":"*","^c":":","^d":"\\","^s":"/","^q":"?","^t":'"',"^l":"<","^r":">","^h":"#","^^":"^"},t=function(e,n){switch(e){case"^L":case"^8":case"^G":case"^C":case"^E":case"^T":case"^B":return!1;case"^J":return n>128&&n<160||n>=224&&n<253;case"^H":case"^S":case"^K":return n>128&&n<255;default:throw new Error("Unknown Codepage: "+n)}};return function(r){var s;s="string"==typeof r?new Uint8Array(r.split("").map(function(e){return e.charCodeAt(0)})):r;for(var o="^L",c="",i=0,a=0,f=new TextDecoder(e[o]),d=0;d<=s.length;d++)if(d===s.length||0===s[d])i<a&&(c+=f.decode(s.slice(i,a))),d=s.length;else if(t(o,s[d]))a+=2,d++;else if(94===s[d]){var l="^"+f.decode(s.slice(d+1,d+2));e.hasOwnProperty(l)?(o=l,f=new TextDecoder(e[o]),i<a&&(c+=f.decode(s.slice(i,a))),i=56===s[d+1]?d:d+2,a=d+2,d++):(a+=2,d++)}else a++;for(var u in n)c=c.split(u).join(n[u]);return c}});
//# sourceMappingURL=index.umd.js.map
