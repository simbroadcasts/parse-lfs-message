!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e||self).parseLfsMessage=n()}(this,function(){var e={"^L":"CP1252","^G":"CP1253","^C":"CP1251","^E":"CP1250","^T":"CP1254","^B":"CP1257","^J":"shift-jis","^H":"big5","^S":"gbk","^K":"euc-kr","^8":"CP1252"},n={"^v":"|","^a":"*","^c":":","^d":"\\","^s":"/","^q":"?","^t":'"',"^l":"<","^r":">","^h":"#"},r=function(e,n){switch(e){case"^L":case"^8":case"^G":case"^C":case"^E":case"^T":case"^B":return!1;case"^J":return n>128&&n<160||n>=224&&n<253;case"^H":case"^S":case"^K":return n>128&&n<255;default:throw new Error("Unknown Codepage: "+n)}};return function(t){var s;s="string"==typeof t?new Uint8Array(t.split("").map(function(e){return e.charCodeAt(0)})):t;for(var c="^L",a="",o=0,i=0,f=new TextDecoder(e[c]),l=0;l<=s.length;l++)if(l===s.length||0===s[l])o<i&&(a+=f.decode(s.slice(o,i))),l=s.length;else if(r(c,s[l]))i+=2,l++;else if(94===s[l]){var d="^"+f.decode(s.slice(l+1,l+2));e.hasOwnProperty(d)?(o<i&&(a+=f.decode(s.slice(o,i))),c=d,f=new TextDecoder(e[c]),o=56===s[l+1]?l:l+2,i=l+2,l++):(i+=2,l++)}else i++;for(var u in n){var p=new RegExp("(?<!\\^)\\"+u,"g");a=a.replaceAll(p,n[u])}return a.replaceAll("^^","^")}});
//# sourceMappingURL=index.umd.js.map
